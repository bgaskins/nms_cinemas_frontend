<div class="container"> <!--Cart table-->


    <!--Dynamic product details -->
    <div *ngIf="cartItems.length > 0">
        <table class="table">
            <tr>
                <th colspan="1">Title</th>
                <th colspan="1">Showtime</th>
                <th colspan="1">Price</th>
            </tr>

            <!--Product info/image populates-->
            <tr *ngFor="let cartItem of cartItems"> 
               <td>
                    <img src="{{ cartItem.image_url }}" class="img-responsive" width="150px" />
                </td>
                <td>
                    <p>{{ cartItem.title }}</p>
                    <p>{{ cartItem.showtime }}</p>
                    <p>{{ cartItem.ticket_price | currency: 'USD' }}</p>
                </td> 
                <td>
                    <div class="items">
                        <label>Quantity:</label> 
                        <div class="row">
                            <div class="col">
                                <button (click)="decrementQuantity(cartItem)" class="btn" id="minus">
                                    <fa-icon [icon]="faMinus"></fa-icon>
                                </button>
                            </div>
                            <div class="col">
                                {{ cartItem.quantity }}
                            </div>
                            <div class="col">
                                <button (click)="incrementQuantity(cartItem)" class="btn" id="plus">
                                    <fa-icon [icon]="faPlus"></fa-icon>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <button (click)="deleteFromCart(cartItem)" class="btn btn-primary btn-sm">
                            Delete
                        </button>
                    </div>
                    <p class="mt-2">Subtotal: {{ cartItem.quantity * cartItem.ticket_price | currency: 'USD' }}</p>
                </td>
            </tr>
            <!-- Order summary -->
            <tr>
                <td colspan="2" id="payment-summary"></td>
                <td id="total">
                    <p><strong>Total Quantity:</strong> {{ totalQuantity }}</p>
                    <p>Shipping: Free</p>
                    <p><strong>Total Price:</strong> {{ totalPrice | currency: 'USD' }}</p>
                    <a routerLink="/checkout" class="btn button">Checkout</a>
                </td>
            </tr>

        </table>

    </div>

    <!-- If the cart is empty a message occurs -->
    <div *ngIf="cartItems.length == 0" class="alert alert-warning col-md-8" role="alert">
        Your shopping cart is empty. 
    </div>

</div>